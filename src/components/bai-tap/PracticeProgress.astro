---
interface SectionNav {
  number: number;
  label: string;
}

interface Props {
  sections: SectionNav[];
}

const { sections } = Astro.props as Props;
---

<div class="bg-white rounded-lg shadow-md p-6 mb-6">
  <div class="mb-4">
    <div class="flex justify-between items-center mb-2">
      <span class="text-sm font-medium text-gray-700">Tiến độ</span>
      <span class="text-sm text-gray-600" id="progress-text">0/{sections.length} sections</span>
    </div>
    <div class="w-full bg-gray-200 rounded-full h-2.5">
      <div class="bg-blue-600 h-2.5 rounded-full transition-all duration-300" id="progress-bar" style="width: 0%"></div>
    </div>
  </div>

  <div class="flex flex-wrap gap-2" id="section-navigator">
    {sections.map((section, index) => {
      const isActive = index === 0;
      const baseClasses = 'section-btn px-4 py-2 rounded-lg font-medium transition-colors';
      const disabledClasses = 'disabled:opacity-50 disabled:cursor-not-allowed';
      const className = `${baseClasses} ${disabledClasses} ${isActive ? 'active' : ''}`;

      return (
        <button
          onclick={`showSection(${section.number})`}
          class={className}
          data-section={section.number}
          disabled={!isActive}
        >
          <span class="section-number">{section.number}</span> {section.label}
        </button>
      );
    })}
  </div>
</div>

