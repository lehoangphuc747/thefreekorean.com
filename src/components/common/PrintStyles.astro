---
// Component: Print-friendly CSS
// Tối ưu hóa giao diện khi in bài viết
---

<style is:global>
  /* Mặc định ẩn header và footer in trên màn hình */
  .print-header,
  .print-footer,
  .print-watermark {
    display: none !important;
  }

  @media print {
    /* 1. Ẩn các thành phần UI không cần thiết */
    nav,
    .navbar,
    header.borer-b, /* Page header boundaries inside logic */
    footer,
    .footer,
    aside, /* Sidebars */
    .grammar-sidebar,
    #grammar-sidebar,
    .toc-container,
    #toc-container,
    .breadcrumb,
    .action-buttons,
    .navigation-buttons,
    .related-grammar,
    .scroll-to-top,
    button,
    #mobile-panel-overlay,
    .copy-toast,
    #mobile-sidebar-trigger,
    .view-toggle,
    iframe,
    .video-embed {
      display: none !important;
    }

    /* 2. Reset layout cơ bản */
    body {
      background: white !important;
      color: black !important;
      margin: 0 !important;
      padding: 0 !important;
      font-family: "Times New Roman", Times, serif !important; /* Font serif dễ đọc khi in */
      overflow: visible !important;
    }

    html {
      font-size: 12pt;
    }

    /* Layout reset for new structure */
    .max-w-\[1440px\],
    .flex,
    .grid {
      display: block !important;
      width: 100% !important;
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
      gap: 0 !important;
    }

    /* 3. Cấu hình Header/Footer cho bản in */
    .print-header {
      display: block !important;
      text-align: center !important;
      margin-bottom: 2cm !important;
      padding-bottom: 0.5cm !important;
      border-bottom: 2pt solid #000 !important;
      page-break-after: avoid !important;
    }

    .print-footer {
      display: block !important;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      text-align: center !important;
      font-size: 9pt !important;
      color: #666 !important;
      border-top: 1pt solid #ddd !important;
      padding-top: 5pt !important;
    }

    /* Watermark chéo toàn trang */
    .print-watermark {
      display: block !important;
      position: fixed !important;
      top: 50% !important;
      left: 50% !important;
      transform: translate(-50%, -50%) rotate(-45deg) !important;
      font-size: 60pt !important; 
      font-weight: bold !important;
      color: rgba(0, 0, 0, 0.03) !important;
      white-space: nowrap !important;
      pointer-events: none !important;
      z-index: -1 !important;
      width: 100% !important;
      text-align: center !important;
    }

    /* 4. Tinh chỉnh nội dung chính (Article) */
    article, 
    .prose {
      width: 100% !important;
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
      color: #000 !important;
    }

    /* Typography Overrides */
    h1 {
      font-size: 24pt !important;
      text-align: center !important;
      margin-bottom: 0.5cm !important;
      color: #000 !important;
    }

    /* Hiển thị Meaning (ý nghĩa) to rõ dưới tiêu đề */
    article > header p.text-indigo-600 {
      font-size: 16pt !important;
      text-align: center !important;
      color: #000 !important;
      font-weight: bold !important;
      margin-bottom: 1cm !important;
      border-bottom: 1pt solid #eee;
      padding-bottom: 1cm;
    }

    h2 {
      font-size: 16pt !important;
      border-bottom: 1pt solid #ccc !important;
      margin-top: 1.5cm !important;
      page-break-after: avoid !important;
      color: #000 !important;
    }

    h3 {
      font-size: 14pt !important;
      margin-top: 1cm !important;
      color: #000 !important;
    }

    p, li {
      font-size: 12pt !important;
      line-height: 1.6 !important;
      text-align: justify !important;
      orphans: 3;
      widows: 3;
    }

    /* Correctness Indicators Colors (force print colors) */
    .text-emerald-600, .text-emerald-700 { color: #006400 !important; font-weight: bold !important; }
    .text-rose-600, .text-rose-700 { color: #8b0000 !important; font-weight: bold !important; }
    .bg-emerald-50, .bg-rose-50, .bg-indigo-50 { background: transparent !important; border: 1pt solid #ccc !important; }

    /* Tables */
    table {
      width: 100% !important;
      border-collapse: collapse !important;
      margin: 1cm 0 !important;
      page-break-inside: avoid !important;
    }

    th, td {
      border: 1pt solid #000 !important;
      padding: 6pt !important;
      font-size: 11pt !important;
    }

    th {
      background-color: #f0f0f0 !important;
      font-weight: bold !important;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    /* Links */
    a {
      text-decoration: none !important;
      color: #000 !important;
      font-weight: bold !important;
    }
    
    /* Code blocks */
    pre, code {
      border: 1pt solid #ccc !important;
      background: #f9f9f9 !important;
      font-family: monospace !important;
    }

    /* Hide Images if needed, currently showing but limited */
    img {
      max-width: 80% !important;
      height: auto !important;
      display: block !important;
      margin: 1cm auto !important;
    }

    /* Margins */
    @page {
      size: A4;
      margin: 2cm;
    }
  }
</style>

<!-- Injected DOM elements for Print Header/Footer -->
<div class="print-header">
  <div style="font-size: 20pt; font-weight: bold;">THE FREE KOREAN</div>
  <div style="font-size: 10pt; font-style: italic;">Học tiếng Hàn miễn phí & hiệu quả</div>
</div>

<div class="print-watermark">
  THEFREEKOREAN.COM
</div>

<div class="print-footer">
  Tài liệu được tải miễn phí tại thefreekorean.com - Vui lòng không bán lại.
</div>